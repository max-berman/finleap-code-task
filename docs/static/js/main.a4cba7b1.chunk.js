(this["webpackJsonpfinleap-code-challenge"]=this["webpackJsonpfinleap-code-challenge"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),o=n.n(i),c=(n(10),n(2)),l=n(1);function s(e){var t=e.userInput,n=e.showDropDown,a=e.filteredOptions,i=e.handleItemClick,o=e.activeOption;return n&&t&&a.length&&r.a.createElement("ul",{className:"dropDownList","data-testid":"dropDown"},a.map((function(e,t){var n=e.name,a=e.id;return r.a.createElement("li",{key:t,onClick:function(){return i(a)},className:t===o?"active":""},n)})))}function u(e){var t=e.cityList,n=void 0===t?[]:t,a=e.setCityList;return n.length>0&&r.a.createElement("section",{className:"cards"},n.sort((function(e,t){return+t.temp_max-+e.temp_max})).map((function(e,t){var i,o=e.id,c=e.name,l=e.temp_max,s=e.temp_min;return r.a.createElement("dl",{className:"".concat((i=l,i>20?"hot":i>=5&&i<=20?"mild":"cold")," card"),key:t},r.a.createElement("dd",{className:"close",onClick:function(){return e=o,void a(n.filter((function(t){var n=t.id;return e!==n})));var e}}),r.a.createElement("dt",null,c),r.a.createElement("dd",null,r.a.createElement("span",null,"min:")," ",l),r.a.createElement("dd",null,r.a.createElement("span",null,"max:")," ",s))})))}var m="483d38b97955379402481e30fc952921",d="https://api.openweathermap.org/data/2.5/weather",p={title:"weather monster",input_placeholder:"Type city name",error:"Problem with Loading Data..."},f=[{id:6173331,name:"Vancouver"},{id:293396,name:"Tel Aviv"},{id:5128638,name:"New York"},{id:2950159,name:"Berlin"},{id:3648559,name:"Barcelona"},{id:5172078,name:"Sidney"},{id:5174095,name:"Toronto"},{id:7839805,name:"Melbourne"},{id:4717560,name:"Paris"},{id:3369157,name:"Cape Town"},{id:6458924,name:"Porto"},{id:2759794,name:"Amsterdam"}];function h(e){var t=e.userInput,n=e.setUserInput,i=e.setShowDropDown,o=(e.showDropDown,e.activeOption),c=e.setActiveOption,l=e.filteredOptions,s=e.setFilteredOptions,u=e.handleItemClick;return Object(a.useEffect)((function(){console.log(o)}),[o]),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;n(t),i(!0),s(f.filter((function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1})))},onKeyDown:function(e){var t=e.keyCode;if(console.log(l[o]),13===t)c(0),n(l[o].name),u(l[o].id),i(!1);else if(38===t){if(0===o)return;c(o-1)}else if(40===t){if(o===l.length-1)return;c(o+1)}},placeholder:p.input_placeholder,"data-testid":"searchInput"}))}n(11);var v=function(e){return fetch("".concat(d,"?id=").concat(e,"&units=metric&appid=").concat(m)).then((function(e){return e.json()}))},w=function(e){return Object(c.a)(new Set(e.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}))},O=p.error,E=p.title;var b=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(!1),m=Object(l.a)(o,2),d=m[0],p=m[1],f=Object(a.useState)([]),b=Object(l.a)(f,2),j=b[0],g=b[1],y=Object(a.useState)(!1),D=Object(l.a)(y,2),S=D[0],k=D[1],C=Object(a.useState)(!1),I=Object(l.a)(C,2),N=I[0],_=I[1],x=Object(a.useState)(0),L=Object(l.a)(x,2),A=L[0],B=L[1],J=Object(a.useState)([]),T=Object(l.a)(J,2),P=T[0],F=T[1],U={userInput:n,setUserInput:i,showDropDown:d,setShowDropDown:p,cityList:j,setCityList:g,setIsError:k,setIsLoading:_,activeOption:A,setActiveOption:B,filteredOptions:P,setFilteredOptions:F,handleItemClick:function(e){return _(!0),v(e).then((function(e){var t=e.id,n=e.main,a=n.temp_max,r=n.temp_min,o=e.name;g((function(e){return w([].concat(Object(c.a)(e),[{id:t,name:o,temp_max:a,temp_min:r}]))})),i(o)})).then((function(){p(!d),_(!1)})).catch((function(e){return k(!0)}))}};return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,E),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"search"},r.a.createElement(h,U),N&&!S&&r.a.createElement("span",{className:"spinner"}),r.a.createElement(s,U)),S?r.a.createElement("span",null,O):r.a.createElement(u,U))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.a4cba7b1.chunk.js.map